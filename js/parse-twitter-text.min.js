/*
 * Twitter text parser
 *
 * This parser processes strings adding in links to URLs, Twitter users, and
 * Twitter hash tags.
 *
 * By: Simon Whatley
 * http://www.simonwhatley.co.uk/parsing-twitter-usernames-hashtags-and-urls-with-javascript
 */

String.prototype.parseURL=function(){return this.replace(/[A-Za-z]+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+/,function(url){return'<a href="'+url+'" rel="nofollow">'+url+'</a>';});};String.prototype.parseUsername=function(){return this.replace(/[@]+[A-Za-z0-9-_]+/,function(u){var username=u.replace("@","");return'<a href="'+'http://twitter.com/'+username+'" rel="nofollow">'+u+'</a>'});};String.prototype.parseHashtag=function(){return this.replace(/[#]+[A-Za-z0-9-_]+/,function(t){var tag=t.replace("#","%23");return'<a href="'+'http://search.twitter.com/search?q='+tag+'" rel="nofollow">'+t+'</a>'});};String.prototype.parseTwitter=function(){return this.parseURL().parseUsername().parseHashtag();};